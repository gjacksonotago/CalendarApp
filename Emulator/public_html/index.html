<!DOCTYPE html>
<!--
Emulator for COSC345 Assignments 2 and 3 will be generated here and this page
is where we will host the Emulator and prototype.
-->
<html>
    <head>
        <title>Emulator v 1.4.3</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type='text/javascript' src="js/libs/jquery/jquery.js"></script>
        <script type='text/javascript' src="emulatorBasics.js"></script>
    </head>
    <body>

        <!-- The text division -->
        <div>
            
            <h3>Generic Smart Watch Emulator v. 1.4.3</h3>
            <p>
                Below should display the co-ordinates of where you
                last clicked on the big red canvas element you can see:
            </p>
            <!-- This div below shows the mouse click co-ords currently -->
            <div id="divShow">Mouse position: No clicks yet!</div>
            <p>
                Below is the canvas element. It currently displays the
                current time and date - which updates on mouseover or on 
                click of the canvas.
            </p>
            
        </div>
        
        <!-- The actual canvas element - script for editing it is underneath -->
        <div id="canvasDiv">
            <canvas width="500" height="500" id="canvas_1" 
                    style="border:1px solid #000000;">
                Canvas Tag not Supported by your browser version!
            </canvas>
        </div>
        
        <!-- This displays the time on the canvas and updates the mouse -->
        <!-- position onclick on the canvas area, and displays it up on the -->
        <!-- divShow division. Updates time on mouseover on the canvas! -->
        <script>
            //load the canvas colour and time
            drawToCanvas();
            
            //Used for the MouseDown event.
            var canvas = document.getElementById('canvas_1');
            var context = canvas.getContext('2d');
            
            //Mouseover event for updating the time on the
            //canvas element!
            canvas.addEventListener('mouseover', function() {
                drawToCanvas();     
            }, false);
            
            //The mouseclick event listener.
            canvas.addEventListener('mousedown', function(evt) {
                drawToCanvas(); //refreshes the date/time display
                
                /*
                 * Grabs mouse position co-ords and creates a 
                 * string out of them to use later.
                 */
                var mousePos = getMousePos(canvas, evt);
                var message = 'Mouse position: ' + mousePos.x + ', ' + 
                        Math.round(mousePos.y);
                var sqMes = 'SQUARE CLICKED: ' + mousePos.x + ', ' + 
                        Math.round(mousePos.y);
                
                //If Mouse Clicked on the Black Square, new message!
                if (mousePos.x <= 375 && mousePos.y <= 375 &&
                        mousePos.x >= 125 && mousePos.y >= 125) {
                        document.getElementById("divShow").innerHTML = sqMes; 
                } else { 
                    //writeMessage(canvas, message);
                    //Print the Mouse Co-ords to divShow.
                    document.getElementById("divShow").innerHTML = message;
                }
            }, false);
        </script>

    </body>
</html>
